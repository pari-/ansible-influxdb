---

influxdb_service_name: "influxdb"
influxdb_supported_distribution_releases:
  - "wheezy"
  - "jessie"
  - "precise"
  - "trusty"
  - "utopic"
  - "vivid"
  - "wily"
  - "xenial"
  - "yakkety"
influxdb_release_component: "stable"
influxdb_install_apt_key_id: ""
influxdb_install_apt_key_url: "https://repos.influxdata.com/influxdb.key"
influxdb_install_apt_repository_repo: "deb https://repos.influxdata.com/debian {{ ansible_distribution_release|lower }} {{ influxdb_release_component }}"
influxdb_install_apt_repository_validate_certs: false
influxdb_install_apt_update_cache: true
influxdb_install_apt_cache_valid_time: 3600
influxdb_install_package_list:
  - influxdb
influxdb_bin: "/usr/bin/influxd"
influxdb_config_file: "/etc/influxdb/influxdb.conf"

influxdb_config:
  reporting-disabled: false
  hostname: "{{ ansible_hostname }}"
  meta:
    dir: "/var/lib/influxdb/meta"
    retention-autocreate: true
    logging-enabled: true
  data:
    dir: "/var/lib/influxdb/data"
    wal-dir: "/var/lib/influxdb/wal"
    trace-logging-enabled: false
    query-log-enabled: true
    cache-max-memory-size: 1073741824
    cache-snapshot-memory-size: 26214400
    cache-snapshot-write-cold-duration: "10m0s"
    compact-full-write-cold-duration: "4h0m0s"
    max-series-per-database: 1000000
    max-values-per-tag: 100000
  coordinator:
    write-timeout: "10s"
    max-concurrent-queries: 0
    query-timeout: "0s"
    log-queries-after: "0s"
    max-select-point: 0
    max-select-series: 0
    max-select-buckets: 0
  retention:
    enabled: true
    check-interval: "30m0s"
  shard-precreation:
    enabled: true
    check-interval: "10m0s"
    advance-period: "30m0s"
  monitor:
    store-enabled: true
    store-database: "_internal"
    store-interval: "10s"
  subscriber:
    enabled: true
    http-timeout: "30s"
    insecure-skip-verify: false
    ca-certs: ""
    write-concurrency: 40
    write-buffer-size: 1000
  admin:
    enabled: false
    bind-address: ":8083"
    https-enabled: false
    https-certificate: "/etc/ssl/influxdb.pem"
  continuous_queries:
    enabled: true
    log-enabled: true
    run-interval: "1s"
  http:
    enabled: false
    bind-address: ":8086"
    auth-enabled: false
    realm: "InfluxDB"
    log-enabled: true
    write-tracing: false
    pprof-enabled: true
    https-enabled: false
    https-certificate: "/etc/ssl/influxdb.pem"
    https-private-key: ""
    shared-sercret: ""
    max-row-limit: 10000
    max-connection-limit: 0
    unix-socket-enabled: false
    bind-socket: "/var/run/influxdb.sock"

influxdb_enabled_services:

influxdb_service_defaults:
  collectd:
    enabled: false
    bind-address: ":25826"
    database: "collectd"
    retention-policy: ""
    typesdb: "/usr/share/collectd/types.db"
    security-level: "none"
    auth-file: "/etc/collectd/auth_file"
    batch-size: 5000
    batch-pending: 10
    batch-timeout: "10s"
    read-buffer: 0
  graphite:
    enabled: false
    database: "graphite"
    retention-policy: ""
    bind-address: ":2003"
    protocol: "tcp"
    consistency-level: "one"
    batch-size: 5000
    batch-pending: 10
    batch-timeout: "1s"
    udp-read-buffer: 0
    separator: "."
  opentsdb:
    enabled: false
    bind-address: ":4242"
    database: "opentsdb"
    retention-policy: ""
    consistency-level: "one"
    tls-enabled: false
    certificate: "/etc/ssl/influxdb.pem"
    log-point-errors: true
    batch-size: 1000
    batch-pending: 5
    batch-timeout: "1s"
  udp:
    enabled: false
    bind-address: ":8089"
    database: "udp"
    retention-policy: ""
    batch-size: 5000
    batch-pending: 10
    batch-timeout: "1s"
    read-buffer: 0
    precision: ""
